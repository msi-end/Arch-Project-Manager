<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EBAH ERP | Admin</title>

  <!-- CSS -->
  <link rel="stylesheet" href="/css/index.css">
  <link rel="stylesheet" href="/css/responsive.css">
  <link rel="stylesheet" href="/css/darkMode.css">
  <!-- <link rel="stylesheet" href="/css/admin/main.css"> -->

  <!-- <link rel="stylesheet" href="/css/admin/settings.css"> -->

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link href="
    https://cdn.jsdelivr.net/npm/sweetalert2@11.10.1/dist/sweetalert2.min.css
    " rel="stylesheet">

</head>

<body>
  <section>
    <%- include('../partials/admin.aside.ejs') %>
    <main data-app-page="settings">
      <div class="main-data">
        <%- include('../partials/admin.header.ejs') %>
        <div class="heading">
          <h2>Settings</h2>
          <p class="title">Manage all settings here</p>
        </div>
        <div class="switch grid">

          <div class="switch-content">
            <div class="switch-title">
              <h3>Miscellaneous</h3>
            </div>
            <div class="switch-btn flex align-center">
              <input type="text" name="miscel-task" id="miscel-task">
              <button onclick="addMiscTask()">Add</button>
            </div>
            <div class="switch-data" id="0">
              <ul>
                <% data[1].forEach(mtask=>{ %>
                <li class="flex align-center" data-id="<%= mtask.msub_task_id %>">
                  <span class="dot"></span>
                  <span class="flex-1">
                    <%= mtask.msub_task_name %>
                  </span>
                  <button class="edit-btn" data-id="<%= mtask.msub_task_id %>" onclick="editMiscTask(this)">Edit</button>
                  <button class="delete-btn" data-id="<%= mtask.msub_task_id %>" onclick="editMiscTask(this)">
                    <svg fill="#000000" width="800px" height="800px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                      <path d="M5.755,20.283,4,8H20L18.245,20.283A2,2,0,0,1,16.265,22H7.735A2,2,0,0,1,5.755,20.283ZM21,4H16V3a1,1,0,0,0-1-1H9A1,1,0,0,0,8,3V4H3A1,1,0,0,0,3,6H21a1,1,0,0,0,0-2Z" />
                    </svg>
                  </button>
                </li>
                <% }) %>
              </ul>
            </div>
          </div>

          <div class="switch-content">
            <div class="switch-title">
              <h3>Sub Tasks</h3>
            </div>
            <div class="switch-btn flex align-center">
              <input type="text" name="sub-task" id="small-task">
              <button onclick="addSubTask()">Add</button>
            </div>
            <div class="switch-data" id="1">
              <ul>
                <% data[0].forEach(subTask=>{ %>
                <li class="flex align-center" data-id='<%= subTask.sub_task_id %>'>
                  <span class="dot"></span>
                  <span class="flex-1">
                    <%= subTask.sub_task_name %>
                  </span>
                  <button class="edit-btn" data-id='<%= subTask.sub_task_id %>' onclick="editSubTask(this)">Edit</button>
                  <button class="delete-btn" data-id='<%= subTask.sub_task_id %>' onclick="editSubTask(this)">
                    <svg fill="#000000" width="800px" height="800px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                      <path d="M5.755,20.283,4,8H20L18.245,20.283A2,2,0,0,1,16.265,22H7.735A2,2,0,0,1,5.755,20.283ZM21,4H16V3a1,1,0,0,0-1-1H9A1,1,0,0,0,8,3V4H3A1,1,0,0,0,3,6H21a1,1,0,0,0,0-2Z" />
                    </svg>
                  </button>
                </li>
                <% })%>
              </ul>
            </div>
          </div>

          <!-- --------------Split Ratio-------------- -->
          <div class="switch-content">
            <div class="switch-title">
              <h3>Split Ratio <span>(Arch: Strc: 3D)</span></h3>
            </div>
            <div class="switch-btn flex align-center">
              <input type="text" name="split-ratio" id="split-ratio">
              <button onclick="addSplitRatio()" id="">Add</button>
            </div>
            <div class="switch-data" id="2">
              <ul>
                <% data[2].forEach(split=>{ %>
                <li class="flex align-center" data-id="<%= split.cid %>">
                  <span class="dot"></span>
                  <span class="flex-1">
                    <%= split.splitvalue %>
                  </span>
                  <button class="edit-btn" data-id="<%= split.cid %>" onclick="editSplitRatio(this)">Edit</button>
                  <button class="delete-btn" data-id="<%= split.cid %>" onclick="deleteSplitRatio(this)">
                    <svg fill="#000000" width="800px" height="800px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                      <path d="M5.755,20.283,4,8H20L18.245,20.283A2,2,0,0,1,16.265,22H7.735A2,2,0,0,1,5.755,20.283ZM21,4H16V3a1,1,0,0,0-1-1H9A1,1,0,0,0,8,3V4H3A1,1,0,0,0,3,6H21a1,1,0,0,0,0-2Z" />
                    </svg>
                  </button>
                </li>
                <% }) %>
              </ul>
            </div>
          </div>

        </div>
      </div>

      <!-- POPUPS  -->
      <div class="main-popup hide"></div>
      <%- include('../partials/tasks/notification.ejs') %>
      <%- include('../partials/tasks/alert.ejs') %>
    </main>
  </section>

  <!-- JAVASCRIPT -->
  <script src="/js/admin/index.js"></script>
  <script src="/js/admin/common.js"></script>
  <script src="/js/admin/settings.js"></script>
</body>

</html>