<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EBAH ERP | Admin</title>

  <!-- CSS -->
  <link rel="stylesheet" href="/css/index.css">
  <link rel="stylesheet" href="/css/responsive.css">
  <link rel="stylesheet" href="/css/darkMode.css">
  <!-- <link rel="stylesheet" href="/css/admin/main.css"> -->

  <!-- <link rel="stylesheet" href="/css/admin/settings.css"> -->

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link href="
    https://cdn.jsdelivr.net/npm/sweetalert2@11.10.1/dist/sweetalert2.min.css
    " rel="stylesheet">

</head>

<body>
  <section>
    <%- include('../partials/admin.aside.ejs') %>
    <main data-app-page="settings">
      <div class="main-data">
        <%- include('../partials/admin.header.ejs') %>
        <div class="heading">
          <h2>Settings</h2>
          <p class="title">Manage all settings here</p>
        </div>
        <div class="switch">
          <div class="switch-aside-ctn">
            <h3>Menu</h3>
            <div class="switch-aside-content">
              <div class="switch-aside-item active " data-index="0">
                <p>Miscellaneous</p>
                <svg width="20px" height="20px" viewBox="0 0 32 32" id="Lager_30" data-name="Lager 30" xmlns="http://www.w3.org/2000/svg">
                  <g id="Group_9" data-name="Group 9">
                    <path id="Path_35" data-name="Path 35" d="M14.613,11.413,17.246,14H9.98A1.979,1.979,0,0,0,8,15.98v.04A1.979,1.979,0,0,0,9.98,18h6.963l-.042.26-2.227,2.248a2.091,2.091,0,0,0-.293,2.657,1.973,1.973,0,0,0,3.022.255l6.016-6.074a2.017,2.017,0,0,0,0-2.833l-6-5.934a1.97,1.97,0,0,0-2.806,0A2.016,2.016,0,0,0,14.613,11.413Z" />
                    <path id="Path_36" data-name="Path 36" d="M0,16A16,16,0,1,0,16,0,16,16,0,0,0,0,16Zm28,0A12,12,0,1,1,16,4,12.013,12.013,0,0,1,28,16Z" />
                  </g>
                </svg>
              </div>
              <div class="switch-aside-item  " data-index="1">
                <p>Sub Tasks</p>
                <svg width="20px" height="20px" viewBox="0 0 32 32" id="Lager_30" data-name="Lager 30" xmlns="http://www.w3.org/2000/svg">
                  <g id="Group_9" data-name="Group 9">
                    <path id="Path_35" data-name="Path 35" d="M14.613,11.413,17.246,14H9.98A1.979,1.979,0,0,0,8,15.98v.04A1.979,1.979,0,0,0,9.98,18h6.963l-.042.26-2.227,2.248a2.091,2.091,0,0,0-.293,2.657,1.973,1.973,0,0,0,3.022.255l6.016-6.074a2.017,2.017,0,0,0,0-2.833l-6-5.934a1.97,1.97,0,0,0-2.806,0A2.016,2.016,0,0,0,14.613,11.413Z" />
                    <path id="Path_36" data-name="Path 36" d="M0,16A16,16,0,1,0,16,0,16,16,0,0,0,0,16Zm28,0A12,12,0,1,1,16,4,12.013,12.013,0,0,1,28,16Z" />
                  </g>
                </svg>
              </div>
              <div class="switch-aside-item  " data-index="2">
                <p>Split Ratio</p>
                <svg width="20px" height="20px" viewBox="0 0 32 32" id="Lager_30" data-name="Lager 30" xmlns="http://www.w3.org/2000/svg">
                  <g id="Group_9" data-name="Group 9">
                    <path id="Path_35" data-name="Path 35" d="M14.613,11.413,17.246,14H9.98A1.979,1.979,0,0,0,8,15.98v.04A1.979,1.979,0,0,0,9.98,18h6.963l-.042.26-2.227,2.248a2.091,2.091,0,0,0-.293,2.657,1.973,1.973,0,0,0,3.022.255l6.016-6.074a2.017,2.017,0,0,0,0-2.833l-6-5.934a1.97,1.97,0,0,0-2.806,0A2.016,2.016,0,0,0,14.613,11.413Z" />
                    <path id="Path_36" data-name="Path 36" d="M0,16A16,16,0,1,0,16,0,16,16,0,0,0,0,16Zm28,0A12,12,0,1,1,16,4,12.013,12.013,0,0,1,28,16Z" />
                  </g>
                </svg>
              </div>
              <div class="switch-aside-item  " data-index="3">
                <p>Expense Category</p>
                <svg width="20px" height="20px" viewBox="0 0 32 32" id="Lager_30" data-name="Lager 30" xmlns="http://www.w3.org/2000/svg">
                  <g id="Group_9" data-name="Group 9">
                    <path id="Path_35" data-name="Path 35" d="M14.613,11.413,17.246,14H9.98A1.979,1.979,0,0,0,8,15.98v.04A1.979,1.979,0,0,0,9.98,18h6.963l-.042.26-2.227,2.248a2.091,2.091,0,0,0-.293,2.657,1.973,1.973,0,0,0,3.022.255l6.016-6.074a2.017,2.017,0,0,0,0-2.833l-6-5.934a1.97,1.97,0,0,0-2.806,0A2.016,2.016,0,0,0,14.613,11.413Z" />
                    <path id="Path_36" data-name="Path 36" d="M0,16A16,16,0,1,0,16,0,16,16,0,0,0,0,16Zm28,0A12,12,0,1,1,16,4,12.013,12.013,0,0,1,28,16Z" />
                  </g>
                </svg>
              </div>
              <div class="switch-aside-item  " data-index="4">
                <p>Payment Methods</p>
                <svg width="20px" height="20px" viewBox="0 0 32 32" id="Lager_30" data-name="Lager 30" xmlns="http://www.w3.org/2000/svg">
                  <g id="Group_9" data-name="Group 9">
                    <path id="Path_35" data-name="Path 35" d="M14.613,11.413,17.246,14H9.98A1.979,1.979,0,0,0,8,15.98v.04A1.979,1.979,0,0,0,9.98,18h6.963l-.042.26-2.227,2.248a2.091,2.091,0,0,0-.293,2.657,1.973,1.973,0,0,0,3.022.255l6.016-6.074a2.017,2.017,0,0,0,0-2.833l-6-5.934a1.97,1.97,0,0,0-2.806,0A2.016,2.016,0,0,0,14.613,11.413Z" />
                    <path id="Path_36" data-name="Path 36" d="M0,16A16,16,0,1,0,16,0,16,16,0,0,0,0,16Zm28,0A12,12,0,1,1,16,4,12.013,12.013,0,0,1,28,16Z" />
                  </g>
                </svg>
              </div>
              <div class="switch-aside-item  " data-index="5">
                <p>Projects Category</p>
                <svg width="20px" height="20px" viewBox="0 0 32 32" id="Lager_30" data-name="Lager 30" xmlns="http://www.w3.org/2000/svg">
                  <g id="Group_9" data-name="Group 9">
                    <path id="Path_35" data-name="Path 35" d="M14.613,11.413,17.246,14H9.98A1.979,1.979,0,0,0,8,15.98v.04A1.979,1.979,0,0,0,9.98,18h6.963l-.042.26-2.227,2.248a2.091,2.091,0,0,0-.293,2.657,1.973,1.973,0,0,0,3.022.255l6.016-6.074a2.017,2.017,0,0,0,0-2.833l-6-5.934a1.97,1.97,0,0,0-2.806,0A2.016,2.016,0,0,0,14.613,11.413Z" />
                    <path id="Path_36" data-name="Path 36" d="M0,16A16,16,0,1,0,16,0,16,16,0,0,0,0,16Zm28,0A12,12,0,1,1,16,4,12.013,12.013,0,0,1,28,16Z" />
                  </g>
                </svg>
              </div>
            </div>
          </div>

          <div class="switch-content">
            <div class="switch-title">
              <h3>Miscellaneous</h3>
            </div>
            <div class="switch-btn flex align-center">
              <input type="text" name="miscel-task" id="miscel-task">
              <button onclick="addMiscTask()">Add</button>
            </div>
            <div class="switch-data" id="0">
              <ul>
                <% data[1].forEach(mtask=>{ %>
                <li class="flex align-center" data-id="<%= mtask.msub_task_id %>">
                  <span class="dot"></span>
                  <span class="flex-1">
                    <%= mtask.msub_task_name %>
                  </span>
                  <button class="edit-btn" data-id="<%= mtask.msub_task_id %>" onclick="editMiscTask(this)">Edit</button>
                  <button class="delete-btn" data-id="<%= mtask.msub_task_id %>" onclick="deleteMiscTask(this)">
                    <svg fill="#000000" width="800px" height="800px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                      <path d="M5.755,20.283,4,8H20L18.245,20.283A2,2,0,0,1,16.265,22H7.735A2,2,0,0,1,5.755,20.283ZM21,4H16V3a1,1,0,0,0-1-1H9A1,1,0,0,0,8,3V4H3A1,1,0,0,0,3,6H21a1,1,0,0,0,0-2Z" />
                    </svg>
                  </button>
                </li>
                <% }) %>
              </ul>
            </div>
          </div>

          <!-- --------------Split Ratio-------------- -->

          <div class="switch-content">
            <div class="switch-title">
              <h3>Sub Tasks</h3>
            </div>
            <div class="switch-btn flex align-center">
              <input type="text" name="sub-task" id="small-task">
              <button onclick="addSubTask()">Add</button>
            </div>
            <div class="switch-data" id="1">
              <ul>
                <% data[0].forEach(subTask=>{ %>
                <li class="flex align-center" data-id='<%= subTask.sub_task_id %>'>
                  <span class="dot"></span>
                  <span class="flex-1">
                    <%= subTask.sub_task_name %>
                  </span>
                  <button class="edit-btn" data-id='<%= subTask.sub_task_id %>' onclick="editSubTask(this)">Edit</button>
                  <button class="delete-btn" data-id='<%= subTask.sub_task_id %>' onclick="deleteSubTask(this)">
                    <svg fill="#000000" width="800px" height="800px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                      <path d="M5.755,20.283,4,8H20L18.245,20.283A2,2,0,0,1,16.265,22H7.735A2,2,0,0,1,5.755,20.283ZM21,4H16V3a1,1,0,0,0-1-1H9A1,1,0,0,0,8,3V4H3A1,1,0,0,0,3,6H21a1,1,0,0,0,0-2Z" />
                    </svg>
                  </button>
                </li>
                <% })%>
              </ul>
            </div>
          </div>

          <!-- --------------Split Ratio-------------- -->
          <div class="switch-content">
            <div class="switch-title">
              <h3>Split Ratio <span>(Arch: Strc: 3D)</span></h3>
            </div>
            <div class="switch-btn flex align-center">
              <input type="text" name="split-ratio" id="split-ratio">
              <button onclick="addSplitRatio()" id="">Add</button>
            </div>
            <div class="switch-data" id="2">
              <ul>
                <% data[2].forEach(split=>{ %>
                <li class="flex align-center" data-id="<%= split.cid %>">
                  <span class="dot"></span>
                  <span class="flex-1">
                    <%= split.splitvalue %>
                  </span>
                  <button class="edit-btn" data-id="<%= split.cid %>" onclick="editSplitRatio(this)">Edit</button>
                  <button class="delete-btn" data-id="<%= split.cid %>" onclick="deleteSplitRatio(this)">
                    <svg fill="#000000" width="800px" height="800px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                      <path d="M5.755,20.283,4,8H20L18.245,20.283A2,2,0,0,1,16.265,22H7.735A2,2,0,0,1,5.755,20.283ZM21,4H16V3a1,1,0,0,0-1-1H9A1,1,0,0,0,8,3V4H3A1,1,0,0,0,3,6H21a1,1,0,0,0,0-2Z" />
                    </svg>
                  </button>
                </li>
                <% }) %>
              </ul>
            </div>
          </div>


          <div class="switch-content">
            <div class="switch-title">
              <h3>Expense Category</span></h3>
            </div>
            <div class="switch-btn flex align-center">
              <input type="text" name="exp_cat-name" id="exp_cat-name">
              <button onclick="addExpenseCategory()" id="">Add</button>
            </div>
            <div class="switch-data" id="3">
              <ul>
                <% data[3].forEach(exp_cat=>{ %>
                <li class="flex align-center" data-id="<%= exp_cat.id %>">
                  <span class="dot"></span>
                  <div style="width:70%;display:flex;flex-direction:column;">
                    <span class="flex-1"><%= exp_cat.cat_name %></span>
                    <span class="" style="font-size: 13px;"><%= exp_cat.cat_desc %></span>
                  </div>

                  <button class="edit-btn" data-id="<%= exp_cat.id %>" onclick="editExpenseCategory(this)">Edit</button>
                  <button class="delete-btn" data-id="<%= exp_cat.id %>" onclick="deleteExpenseCategory(this)">
                    <svg fill="#000000" width="800px" height="800px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                      <path d="M5.755,20.283,4,8H20L18.245,20.283A2,2,0,0,1,16.265,22H7.735A2,2,0,0,1,5.755,20.283ZM21,4H16V3a1,1,0,0,0-1-1H9A1,1,0,0,0,8,3V4H3A1,1,0,0,0,3,6H21a1,1,0,0,0,0-2Z" />
                    </svg>
                  </button>
                </li>
                <% }) %>
              </ul>
            </div>
          </div>

          <div class="switch-content">
            <div class="switch-title">
              <h3>Payment Methods</span></h3>
            </div>
            <div class="switch-btn flex align-center">
              <input type="text" name="methods-name" id="methods-name">
              <button onclick="addPaymentMethods()" id="">Add</button>
            </div>
            <div class="switch-data" id="3">
              <ul>
                <% data[4].forEach(methods=>{ %>
                <li class="flex align-center" data-id="<%= methods.id %>">
                  <span class="dot"></span>
                  <div style="width:70%;display:flex;flex-direction:column;">
                    <span class="flex-1"><%= methods.pm_title %></span>
                    <span class="" style="font-size: 13px;"><%= methods.pm_desc %></span>
                  </div>

                  <button class="edit-btn" data-id="<%= methods.id %>" onclick="editPaymentMethods(this)">Edit</button>
                  <button class="delete-btn" data-id="<%= methods.id %>" onclick="deletePaymentMethods(this)">
                    <svg fill="#000000" width="800px" height="800px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                      <path d="M5.755,20.283,4,8H20L18.245,20.283A2,2,0,0,1,16.265,22H7.735A2,2,0,0,1,5.755,20.283ZM21,4H16V3a1,1,0,0,0-1-1H9A1,1,0,0,0,8,3V4H3A1,1,0,0,0,3,6H21a1,1,0,0,0,0-2Z" />
                    </svg>
                  </button>
                </li>
                <% }) %>
              </ul>
            </div>
          </div>

          <div class="switch-content">
            <div class="switch-title">
              <h3>Projects Category</span></h3>
            </div>
            <div class="switch-btn flex align-center">
              <input type="text" name="pro_cat-name" id="pro_cat-name">
              <button onclick="addProjectCategory()" id="">Add</button>
            </div>
            <div class="switch-data" id="3">
              <ul>
                <% data[5].forEach(pro_cat=>{ %>
                <li class="flex align-center" data-id="<%= pro_cat.id %>">
                  <span class="dot"></span>
                  <div style="width:70%;display:flex;flex-direction:column;">
                    <span class="flex-1"><%= pro_cat.cat_name %></span>
                    <span class="" style="font-size: 13px;"><%= pro_cat.cat_desc %></span>
                  </div>

                  <button class="edit-btn" data-id="<%= pro_cat.id %>" onclick="editProjectCategory(this)">Edit</button>
                  <button class="delete-btn" data-id="<%= pro_cat.id %>" onclick="deleteProjectCategory(this)">
                    <svg fill="#000000" width="800px" height="800px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                      <path d="M5.755,20.283,4,8H20L18.245,20.283A2,2,0,0,1,16.265,22H7.735A2,2,0,0,1,5.755,20.283ZM21,4H16V3a1,1,0,0,0-1-1H9A1,1,0,0,0,8,3V4H3A1,1,0,0,0,3,6H21a1,1,0,0,0,0-2Z" />
                    </svg>
                  </button>
                </li>
                <% }) %>
              </ul>
            </div>
          </div>


        </div>


      </div>


      <!-- POPUPS  -->
      <div class="main-popup hide"></div>
      <%- include('../partials/tasks/notification.ejs') %>
      <%- include('../partials/tasks/alert.ejs') %>
    </main>
  </section>

  <!-- JAVASCRIPT -->
  <script src="/js/admin/index.js"></script>
  <script src="/js/admin/common.js"></script>
  <script src="/js/admin/settings.js"></script>
</body>

</html>